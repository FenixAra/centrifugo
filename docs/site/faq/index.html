



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Centrifugo Documentation">
      
      
        <link rel="canonical" href="https://github.com/centrifugal/centrifugo/faq/">
      
      
        <meta name="author" content="Centrifugal">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/logo.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>FAQ - Centrifugo Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../theme/styles/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#faq" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://github.com/centrifugal/centrifugo" title="Centrifugo Documentation" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Centrifugo Documentation
              </span>
              <span class="md-header-nav__topic">
                FAQ
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/centrifugal/centrifugo/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      centrifugal/centrifugo
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/logo.png" width="24" height="24">
      
    </span>
    Centrifugo Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/centrifugal/centrifugo/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      centrifugal/centrifugo
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../server/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/install/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/admin/" title="Admin web interface" class="md-nav__link">
      Admin web interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/protocol/" title="Client protocol" class="md-nav__link">
      Client protocol
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../libraries/client/" title="Client libraries" class="md-nav__link">
      Client libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../libraries/api/" title="API libraries" class="md-nav__link">
      API libraries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Deploy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Deploy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/packages/" title="RPM and DEB packages" class="md-nav__link">
      RPM and DEB packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/docker/" title="Docker image" class="md-nav__link">
      Docker image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/nginx/" title="Nginx configuration" class="md-nav__link">
      Nginx configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/tls/" title="TLS" class="md-nav__link">
      TLS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/redis/" title="Redis HA" class="md-nav__link">
      Redis HA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deploy/tuning/" title="OS tuning" class="md-nav__link">
      OS tuning
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        FAQ
      </label>
    
    <a href="./" title="FAQ" class="md-nav__link md-nav__link--active">
      FAQ
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-many-connections-can-one-centrifugo-instance-handle" title="How many connections can one Centrifugo instance handle?" class="md-nav__link">
    How many connections can one Centrifugo instance handle?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-centrifugo-scale-horizontally" title="Can Centrifugo scale horizontally?" class="md-nav__link">
    Can Centrifugo scale horizontally?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centrifugo-stops-accepting-new-connections-why" title="Centrifugo stops accepting new connections, why?" class="md-nav__link">
    Centrifugo stops accepting new connections, why?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-use-centrifugo-without-reverse-proxy-like-nginx-before-it" title="Can I use Centrifugo without reverse-proxy like Nginx before it?" class="md-nav__link">
    Can I use Centrifugo without reverse-proxy like Nginx before it?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#does-centrifugo-work-with-http2" title="Does Centrifugo work with HTTP/2?" class="md-nav__link">
    Does Centrifugo work with HTTP/2?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-there-a-way-to-use-single-connection-to-centrifugo-from-different-browser-tabs" title="Is there a way to use single connection to Centrifugo from different browser tabs?" class="md-nav__link">
    Is there a way to use single connection to Centrifugo from different browser tabs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-if-i-need-to-send-push-notifications-to-mobile-or-web-applications" title="What if I need to send push notifications to mobile or web applications?" class="md-nav__link">
    What if I need to send push notifications to mobile or web applications?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-know-message-was-really-delivered-to-client" title="Can I know message was really delivered to client?" class="md-nav__link">
    Can I know message was really delivered to client?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-publish-new-messages-over-websocket-connection-from-client" title="Can I publish new messages over websocket connection from client?" class="md-nav__link">
    Can I publish new messages over websocket connection from client?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-create-secure-channel-for-two-users-only-private-chat-case" title="How to create secure channel for two users only (private chat case)?" class="md-nav__link">
    How to create secure channel for two users only (private chat case)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-a-best-way-to-organize-channel-configuration" title="What's a best way to organize channel configuration?" class="md-nav__link">
    What's a best way to organize channel configuration?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-rely-on-centrifugo-and-its-message-history-for-guaranteed-message-delivery" title="Can I rely on Centrifugo and its message history for guaranteed message delivery?" class="md-nav__link">
    Can I rely on Centrifugo and its message history for guaranteed message delivery?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-have-not-found-an-answer-on-my-question-here" title="I have not found an answer on my question here:" class="md-nav__link">
    I have not found an answer on my question here:
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-many-connections-can-one-centrifugo-instance-handle" title="How many connections can one Centrifugo instance handle?" class="md-nav__link">
    How many connections can one Centrifugo instance handle?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-centrifugo-scale-horizontally" title="Can Centrifugo scale horizontally?" class="md-nav__link">
    Can Centrifugo scale horizontally?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centrifugo-stops-accepting-new-connections-why" title="Centrifugo stops accepting new connections, why?" class="md-nav__link">
    Centrifugo stops accepting new connections, why?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-use-centrifugo-without-reverse-proxy-like-nginx-before-it" title="Can I use Centrifugo without reverse-proxy like Nginx before it?" class="md-nav__link">
    Can I use Centrifugo without reverse-proxy like Nginx before it?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#does-centrifugo-work-with-http2" title="Does Centrifugo work with HTTP/2?" class="md-nav__link">
    Does Centrifugo work with HTTP/2?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-there-a-way-to-use-single-connection-to-centrifugo-from-different-browser-tabs" title="Is there a way to use single connection to Centrifugo from different browser tabs?" class="md-nav__link">
    Is there a way to use single connection to Centrifugo from different browser tabs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-if-i-need-to-send-push-notifications-to-mobile-or-web-applications" title="What if I need to send push notifications to mobile or web applications?" class="md-nav__link">
    What if I need to send push notifications to mobile or web applications?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-know-message-was-really-delivered-to-client" title="Can I know message was really delivered to client?" class="md-nav__link">
    Can I know message was really delivered to client?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-publish-new-messages-over-websocket-connection-from-client" title="Can I publish new messages over websocket connection from client?" class="md-nav__link">
    Can I publish new messages over websocket connection from client?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-create-secure-channel-for-two-users-only-private-chat-case" title="How to create secure channel for two users only (private chat case)?" class="md-nav__link">
    How to create secure channel for two users only (private chat case)?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-a-best-way-to-organize-channel-configuration" title="What's a best way to organize channel configuration?" class="md-nav__link">
    What's a best way to organize channel configuration?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#can-i-rely-on-centrifugo-and-its-message-history-for-guaranteed-message-delivery" title="Can I rely on Centrifugo and its message history for guaranteed message delivery?" class="md-nav__link">
    Can I rely on Centrifugo and its message history for guaranteed message delivery?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#i-have-not-found-an-answer-on-my-question-here" title="I have not found an answer on my question here:" class="md-nav__link">
    I have not found an answer on my question here:
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/centrifugal/documentation/edit/master/docs/faq.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h1>
<p>Answers on various questions here.</p>
<h3 id="how-many-connections-can-one-centrifugo-instance-handle">How many connections can one Centrifugo instance handle?<a class="headerlink" href="#how-many-connections-can-one-centrifugo-instance-handle" title="Permanent link">&para;</a></h3>
<p>This depends on many factors. Hardware, message rate, size of messages, channel options enabled, client distribution over channels, is websocket compression enabled or not etc. So no certain answer on this question exists. Common sense, tests and monitoring can help here. Generally we suggest to not put more than 50-100k clients on one node - but you should measure.</p>
<h3 id="can-centrifugo-scale-horizontally">Can Centrifugo scale horizontally?<a class="headerlink" href="#can-centrifugo-scale-horizontally" title="Permanent link">&para;</a></h3>
<p>Yes, it can. It can do this using builtin Redis Engine. Redis is very fast – for example
it can handle hundreds of thousands requests per second. This should be OK for most
applications in internet. But if you are using Centrifugo and approaching this limit
then it's possible to add sharding support to balance queries between different Redis
instances.</p>
<h3 id="centrifugo-stops-accepting-new-connections-why">Centrifugo stops accepting new connections, why?<a class="headerlink" href="#centrifugo-stops-accepting-new-connections-why" title="Permanent link">&para;</a></h3>
<p>The most popular reason behind this is reaching open file limit. Just make it higher.</p>
<h3 id="can-i-use-centrifugo-without-reverse-proxy-like-nginx-before-it">Can I use Centrifugo without reverse-proxy like Nginx before it?<a class="headerlink" href="#can-i-use-centrifugo-without-reverse-proxy-like-nginx-before-it" title="Permanent link">&para;</a></h3>
<p>Yes, you can - Go standard library designed to allow this. But proxy before Centrifugo can
be very useful for load balancing clients for example.</p>
<h3 id="does-centrifugo-work-with-http2">Does Centrifugo work with HTTP/2?<a class="headerlink" href="#does-centrifugo-work-with-http2" title="Permanent link">&para;</a></h3>
<p>Yes, Centrifugo works with HTTP/2.</p>
<p>You can disable HTTP/2 running Centrifugo server with <code class="codehilite">GODEBUG</code> environment variable:</p>
<div class="codehilite"><pre><span></span>GODEBUG=&quot;http2server=0&quot; centrifugo -c config.json
</pre></div>

<h3 id="is-there-a-way-to-use-single-connection-to-centrifugo-from-different-browser-tabs">Is there a way to use single connection to Centrifugo from different browser tabs?<a class="headerlink" href="#is-there-a-way-to-use-single-connection-to-centrifugo-from-different-browser-tabs" title="Permanent link">&para;</a></h3>
<p>If underlying transport is HTTP-based and you use HTTP/2 then this will work automatically.
In case of websocket connection there is a way to do this using <code class="codehilite">SharedWorker</code> object.</p>
<h3 id="what-if-i-need-to-send-push-notifications-to-mobile-or-web-applications">What if I need to send push notifications to mobile or web applications?<a class="headerlink" href="#what-if-i-need-to-send-push-notifications-to-mobile-or-web-applications" title="Permanent link">&para;</a></h3>
<p>Sometimes it's confusing to see a difference between real-time messages and push notifications.
Centrifugo is a real-time messaging server. It can not send push notifications to devices - to Apple
iOS devices via APNS, Android devices via GCM or browsers over Web Push API. This is a goal for
another software. But the reasonable question here is how can I know when I need to send real-time
message to client online or push notification to its device because application closed at client's
device at moment. The solution is pretty simple. You can keep critical notifications for client in
database. And when client read message send ack to your backend marking that notification as read
by client, you save this ack too. Periodically you can check which notifications were sent to clients
but they have not read it (no ack received). For such notification you can send push notification
to its device using your own or another open-source solution.</p>
<h3 id="can-i-know-message-was-really-delivered-to-client">Can I know message was really delivered to client?<a class="headerlink" href="#can-i-know-message-was-really-delivered-to-client" title="Permanent link">&para;</a></h3>
<p>You can but Centrifugo does not have such API. What you have to do to ensure your client received
message is sending confirmation ack from your client to your application backend as soon as client
processed message coming from Centrifugo channel.</p>
<h3 id="can-i-publish-new-messages-over-websocket-connection-from-client">Can I publish new messages over websocket connection from client?<a class="headerlink" href="#can-i-publish-new-messages-over-websocket-connection-from-client" title="Permanent link">&para;</a></h3>
<p>Centrifugo designed to stream messages from server to client. Even though it's possible to
publish messages into channels directly from client (when <code class="codehilite">publish</code> channel option enabled) -
we strongly discourage this in production usage as those messages will go through Centrifugo
without any control. Of course Centrifugo could resend those message to your application
endpoint but it would be very inefficient and much worse than just sending new events from
client to your backend.</p>
<p>So in general when user generates an event it must be first delivered to your app backend
using a convenient way (for example AJAX POST request for web application), processed on
backend (validated, saved into main database) and then published to Centrifugo using
Centrifugo HTTP API or Redis queue.</p>
<p>Sometimes publishing from client directly into channel can be useful though - for personal
projects, for demonstrations (like we do in our <a href="https://github.com/centrifugal/examples">examples</a>) or if you trust your users and want
to build application without backend. In all cases when you don't need any message control
on your backend.</p>
<h3 id="how-to-create-secure-channel-for-two-users-only-private-chat-case">How to create secure channel for two users only (private chat case)?<a class="headerlink" href="#how-to-create-secure-channel-for-two-users-only-private-chat-case" title="Permanent link">&para;</a></h3>
<p>There are several ways to achieve it:</p>
<ul>
<li>use private channel (starting with <code class="codehilite">$</code>) - every time user will try to subscribe on it your backend should provide sign to confirm that subscription request. Read more in <a href="https://fzambia.gitbooks.io/centrifugal/content/mixed/private_channels.html">special chapter about private channels</a></li>
<li>next is <a href="https://fzambia.gitbooks.io/centrifugal/content/server/channels.html#user-channel-boundary">user limited channels</a> (with <code class="codehilite">#</code>) - you can create channel with name like <code class="codehilite">dialog#42,567</code> to limit subscribers only to user with id <code class="codehilite">42</code> and user with ID <code class="codehilite">567</code></li>
<li>finally you can create hard to guess channel name (based on some secret key and user IDs or just generate and save this long unique name into your main app database) so other users won't know this channel to subscribe on it. This is the simplest but not the safest way - but can be reasonable to consider in many situations.</li>
</ul>
<h3 id="whats-a-best-way-to-organize-channel-configuration">What's a best way to organize channel configuration?<a class="headerlink" href="#whats-a-best-way-to-organize-channel-configuration" title="Permanent link">&para;</a></h3>
<p>In most situations your application need several real-time features. We suggest to use
namespaces for every real-time feature if it requires some option enabled.</p>
<p>For example if you need join/leave messages for chat app - create special channel namespace
with this <code class="codehilite">join_leave</code> option enabled. Otherwise your other channels will receive join/leave
messages too - increasing load and traffic in system but not actually used by clients.</p>
<p>The same relates to other channel options.</p>
<h3 id="can-i-rely-on-centrifugo-and-its-message-history-for-guaranteed-message-delivery">Can I rely on Centrifugo and its message history for guaranteed message delivery?<a class="headerlink" href="#can-i-rely-on-centrifugo-and-its-message-history-for-guaranteed-message-delivery" title="Permanent link">&para;</a></h3>
<p>No - Centrifugo is best-effort transport. This means that if you want strongly guaranteed
message delivery to your clients then you can't just rely on Centrifugo and its message
history cache. In this case you still can use Centrifugo for real-time but you should
build some additional logic on top your application backend and main data storage to
satisfy your guarantees.</p>
<p>Centrifugo can keep message history for a while and you can want to rely on it for
your needs. Centrifugo is not designed as data storage - it uses message history mostly
for recovering missed messages after short client internet connection disconnects. It's
not designed to be used to sync client state after being offline for a long time - this
logic should be on your app backend.</p>
<h3 id="i-have-not-found-an-answer-on-my-question-here">I have not found an answer on my question here:<a class="headerlink" href="#i-have-not-found-an-answer-on-my-question-here" title="Permanent link">&para;</a></h3>
<p>We have <a href="https://gitter.im/centrifugal/centrifugo">gitter chat room</a> - welcome!</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../deploy/tuning/" title="OS tuning" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                OS tuning
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>